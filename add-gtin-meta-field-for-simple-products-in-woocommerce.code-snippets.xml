<?xml version="1.0" encoding="UTF-8"?>
<!-- This is a code snippets export file generated by the Code Snippets WordPress plugin. -->
<!-- https://wordpress.org/plugins/code-snippets -->
<!-- To import these snippets a WordPress site follow these steps: -->
<!-- 1. Log in to that site as an administrator. -->
<!-- 2. Install the Code Snippets plugin using the directions provided at the above link. -->
<!-- 3. Go to 'Tools: Import' in the WordPress admin panel. -->
<!-- 4. Click on the "Code Snippets" importer in the list -->
<!-- 5. Upload this file using the form provided on that page. -->
<!-- 6. Code Snippets will then import all of the snippets and associated information contained in this file into your site. -->
<!-- 7. You will then have to visit the 'Snippets: All Snippets' admin menu and activate desired snippets. -->
<!-- generator="Code Snippets/2.9.2" created="2017-09-07 19:43" -->
<snippets>
  <snippet scope="1">
    <name>Add GTIN meta field for simple products in WooCommerce</name>
    <desc></desc>
    <tags>GTIN, woocommerce, meta, field</tags>
    <code>/** &#13;
 * Adding Custom GTIN Meta Field&#13;
 * Save meta data to DB&#13;
 */&#13;
// add GTIN input field&#13;
add_action('woocommerce_product_options_inventory_product_data','woocom_simple_product_gtin_field', 10, 1 );&#13;
function woocom_simple_product_gtin_field(){&#13;
   global $woocommerce, $post;&#13;
   $product = new WC_Product(get_the_ID());&#13;
   echo '&lt;div id="gtin_attr" class="options_group"&gt;';&#13;
   //add GTIN field for simple product&#13;
   woocommerce_wp_text_input( &#13;
      array(	&#13;
         'id' =&gt; '_gtin',&#13;
         'label' =&gt; 'GTIN',&#13;
         'desc_tip' =&gt; 'true',&#13;
         'description' =&gt; 'Enter the Global Trade Item Number (UPC,EAN,ISBN)')&#13;
   );&#13;
   echo '&lt;/div&gt;';&#13;
}&#13;
// save simple product GTIN&#13;
add_action('woocommerce_process_product_meta','woocom_simple_product_gtin_save');&#13;
function woocom_simple_product_gtin_save($post_id){&#13;
   $gtin_post = $_POST['_gtin'];&#13;
   // save the gtin&#13;
   if(isset($gtin_post)){&#13;
      update_post_meta($post_id,'_gtin', esc_attr($gtin_post));&#13;
   }&#13;
   // remove if GTIN meta is empty&#13;
   $gtin_data = get_post_meta($post_id,'_gtin', true);&#13;
   if (empty($gtin_data)){&#13;
      delete_post_meta($post_id,'_gtin', '');&#13;
   }&#13;
}</code>
  </snippet>
</snippets>
